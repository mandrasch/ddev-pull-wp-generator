<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="" />
		<link rel="icon" href="/ddev-pull-wp-generator/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>DDEV Pull WP Generator</title><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><!-- HTML_TAG_END --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><!-- HTML_TAG_END -->

		

		<link rel="stylesheet" href="/ddev-pull-wp-generator/_app/assets/start-c446e5f0.css">
		<link rel="stylesheet" href="/ddev-pull-wp-generator/_app/assets/vendor-4e7da6e6.css">
		<link rel="stylesheet" href="/ddev-pull-wp-generator/_app/assets/pages/__layout.svelte-4e723f17.css">
		<link rel="stylesheet" href="/ddev-pull-wp-generator/_app/assets/pages/index.svelte-63e26aac.css">
		<link rel="modulepreload" href="/ddev-pull-wp-generator/_app/start-318288d1.js">
		<link rel="modulepreload" href="/ddev-pull-wp-generator/_app/chunks/vendor-11a33a56.js">
		<link rel="modulepreload" href="/ddev-pull-wp-generator/_app/pages/__layout.svelte-55ab9fe6.js">
		<link rel="modulepreload" href="/ddev-pull-wp-generator/_app/pages/index.svelte-aeddf939.js">

		<script type="module">
			import { start } from "/ddev-pull-wp-generator/_app/start-318288d1.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"/ddev-pull-wp-generator","assets":"/ddev-pull-wp-generator"},
				session: {},
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/ddev-pull-wp-generator/_app/pages/__layout.svelte-55ab9fe6.js"),
						import("/ddev-pull-wp-generator/_app/pages/index.svelte-aeddf939.js")
					],
					url: new URL("http://prerender/"),
					params: {}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">




<main><div class="container px-5 my-5 svelte-e708f3"><div class="alert alert-warning" role="alert">This generator is work in progress, please use it with caution. There are still some bugs to
		fix. Stay tuned! :-)
	</div>

	<h1><i>ddev pull wp</i>-Generator</h1>
	<p>This generators enables you to pull a live WordPress site into your local DDEV project. It
		requires connecting to your webspace via SSH (password-less via SSH keys) and it needs WP-CLI or
		mysqldump available on your webspace.<i>(If your webspace doesn&#39;t meet these requirements, check out <a href="https://github.com/mandrasch/ddev-pull-backwpupfile" target="_blank">ddev pull backwpupfile</a>).</i></p>

	<div class="row"><div class="col-12 px-4 mb-3"><h2 class="svelte-e708f3">1. Create your configuration</h2></div>
		<div class="col-lg-6 px-4"><div class="mb-2">.ddev/config.yaml</div>
			


  <pre data-language="yaml" class=" svelte-19wij0g"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-attr">name:</span> <span class="hljs-string">my-wp-site</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">wordpress</span>
<span class="hljs-attr">docroot:</span> <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-attr">php_version:</span> <span class="hljs-string">&quot;7.4&quot;</span>
<span class="hljs-attr">webserver_type:</span> <span class="hljs-string">nginx-fpm</span>
<span class="hljs-attr">router_http_port:</span> <span class="hljs-string">&quot;80&quot;</span>
<span class="hljs-attr">router_https_port:</span> <span class="hljs-string">&quot;443&quot;</span>
<span class="hljs-attr">xdebug_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">additional_hostnames:</span> []
<span class="hljs-attr">additional_fqdns:</span> []
<span class="hljs-attr">mariadb_version:</span> <span class="hljs-string">&quot;10.3&quot;</span>
<span class="hljs-attr">nfs_mount_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">mutagen_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">use_dns_when_possible:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">composer_version:</span> <span class="hljs-string">&quot;2&quot;</span>
<span class="hljs-attr">web_environment:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_HOST=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_USER=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_WP_DIR=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">CHILD_THEME_FOLDER_NAME=twentytwentyone-child</span><!-- HTML_TAG_END --></code></pre>
</div>
		<div class="col-lg-6 px-4"><form><div class="mb-3"><label class="form-label svelte-12n678h" for="projectName">Project name</label>
		<input class="form-control" id="projectName" type="text" placeholder="Project name" value="my-wp-site"></div>
	<div class="mb-3"><fieldset class="svelte-12n678h"><legend class="svelte-12n678h">PHP version</legend>
			<div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="8.0" type="radio" name="phpVersion" value="8.0">
					<label class="form-check-label svelte-12n678h" for="8.0">8.0</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="7.4" type="radio" name="phpVersion" value="7.4" checked>
					<label class="form-check-label svelte-12n678h" for="7.4">7.4</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="7.3" type="radio" name="phpVersion" value="7.3">
					<label class="form-check-label svelte-12n678h" for="7.3">7.3</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="7.2" type="radio" name="phpVersion" value="7.2">
					<label class="form-check-label svelte-12n678h" for="7.2">7.2</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="7.1" type="radio" name="phpVersion" value="7.1">
					<label class="form-check-label svelte-12n678h" for="7.1">7.1</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="7.0" type="radio" name="phpVersion" value="7.0">
					<label class="form-check-label svelte-12n678h" for="7.0">7.0</label>
				</div><div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="5.6" type="radio" name="phpVersion" value="5.6">
					<label class="form-check-label svelte-12n678h" for="5.6">5.6</label>
				</div></fieldset></div>

	<fieldset class="svelte-12n678h"><legend class="svelte-12n678h">Database version</legend>
		
		<div class="row"><div class="col"><div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-maria-10.3" type="radio" name="dbVersion" value="maria-10.3" checked>
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-maria-10.3">MariaDB 10.3 (default)</label>
					</div><div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-maria-10.4" type="radio" name="dbVersion" value="maria-10.4">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-maria-10.4">MariaDB 10.4</label>
					</div><div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-maria-10.5" type="radio" name="dbVersion" value="maria-10.5">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-maria-10.5">MariaDB 10.5</label>
					</div><div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-maria-10.6" type="radio" name="dbVersion" value="maria-10.6">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-maria-10.6">MariaDB 10.6</label>
					</div></div>
			<div class="col">
					<div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-mysql-5.5" type="radio" name="dbVersion" value="mysql-5.5">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-mysql-5.5">MySQL 5.5</label>
					</div>
					<div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-mysql-5.6" type="radio" name="dbVersion" value="mysql-5.6">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-mysql-5.6">MySQL 5.6</label>
					</div>
					<div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-mysql-5.7" type="radio" name="dbVersion" value="mysql-5.7">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-mysql-5.7">MySQL 5.7</label>
					</div>
					<div class="form-check"><input class="form-check-input svelte-12n678h" id="radioDbVersion-mysql-8.0" type="radio" name="dbVersion" value="mysql-8.0">
						<label class="form-check-label svelte-12n678h" for="radioDbVersion-mysql-8.0">MySQL 8.0</label>
					</div></div></div></fieldset>

	<div class="mb-3"><fieldset class="svelte-12n678h"><legend class="svelte-12n678h">Web Server</legend>
			<div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="nginx" type="radio" name="webServerType" value="nginx-fpm" checked>
				<label class="form-check-label svelte-12n678h" for="nginx">nginx (default)</label></div>
			<div class="form-check form-check-inline"><input class="form-check-input svelte-12n678h" id="apache2" type="radio" value="apache-fpm" name="webServerType">
				<label class="form-check-label svelte-12n678h" for="apache2">apache2</label></div></fieldset></div>
	<div class="mb-3"><label class="form-label svelte-12n678h" for="childThemeFolderName">Child theme folder (in wp-content/themes/)</label>
		<input class="form-control" id="childThemeFolderName" type="text" placeholder="twentytwentyone-child" value="twentytwentyone-child">
		<div class="form-text">If you don&#39;t use a child theme currently, just leave this setting. It can be changed later as
			well.
		</div></div>
	<div class="mb-3"><label class="form-label svelte-12n678h" for="sshHost">SSH host</label>
		<input class="form-control" id="sshHost" type="text" placeholder="example.org" value=""></div>
	<div class="mb-3"><label class="form-label svelte-12n678h" for="sshUsername">SSH username</label>
		<input class="form-control" id="sshUsername" type="text" placeholder="user123" value=""></div>
	<div class="mb-3"><label class="form-label svelte-12n678h" for="pathToWordPressOnServer">Path to WordPress on server</label>
		<input class="form-control" id="pathToWordPressOnServer" type="text" placeholder="/sites/my-website.eu/" value="">
		<div class="form-text">Get it from <a href="https://yoast.com/wordpress-site-health/" target="_blank">Site Health</a>
			» Info » Directories &amp; sizes » WordPress directory location
		</div></div>
	
</form></div></div>
	<div class="row"><div class="col-12 px-4 mb-3"><h2 class="svelte-e708f3">2. Create your project folder</h2>
			<p>Create a new project folder and insert these files:</p></div>
		<div class="col-12 px-4">

<div class="card card-small svelte-2rtgml"><div class="card-body"><h5 class="card-title">.ddev/config.yaml</h5>
			<h6 class="card-subtitle mb-2 text-muted">DDEV project configuration</h6>
			<p class="card-text">
  <pre data-language="yaml" class=" svelte-19wij0g"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-attr">name:</span> <span class="hljs-string">my-wp-site</span>
<span class="hljs-attr">type:</span> <span class="hljs-string">wordpress</span>
<span class="hljs-attr">docroot:</span> <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-attr">php_version:</span> <span class="hljs-string">&quot;7.4&quot;</span>
<span class="hljs-attr">webserver_type:</span> <span class="hljs-string">nginx-fpm</span>
<span class="hljs-attr">router_http_port:</span> <span class="hljs-string">&quot;80&quot;</span>
<span class="hljs-attr">router_https_port:</span> <span class="hljs-string">&quot;443&quot;</span>
<span class="hljs-attr">xdebug_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">additional_hostnames:</span> []
<span class="hljs-attr">additional_fqdns:</span> []
<span class="hljs-attr">mariadb_version:</span> <span class="hljs-string">&quot;10.3&quot;</span>
<span class="hljs-attr">nfs_mount_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">mutagen_enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">use_dns_when_possible:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">composer_version:</span> <span class="hljs-string">&quot;2&quot;</span>
<span class="hljs-attr">web_environment:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_HOST=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_USER=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">PRODUCTION_SSH_WP_DIR=</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">CHILD_THEME_FOLDER_NAME=twentytwentyone-child</span><!-- HTML_TAG_END --></code></pre>

				<details class="svelte-2rtgml"><summary>Why is this file needed?</summary>
					<p class="svelte-2rtgml">This is the DDEV configuration of your project folder. The <i>web_environment</i>-values
						are our custom variables. These will then be used in the provider pull script, see
						below. The awesome thing is that this config can be shared via git: This means it can be
						used in team projects as well and everyone uses the same webserver configuration. Check
						out the DDEV documentation for more information:
						<a href="https://ddev.readthedocs.io/en/stable/users/extend/config_yaml/" target="_blank">config.yaml-docs</a>.
					</p></details></p>
			</div></div>

	<div class="card card-small svelte-2rtgml"><div class="card-body"><h5 class="card-title">.gitignore</h5>
			<h6 class="card-subtitle mb-2 text-muted">Ignore pattern for tracking only the child theme
			</h6>
			<p class="card-text">
  <pre data-language="plaintext" class=" svelte-19wij0g"><code class="hljs">
# Ignore all ...
/*

# ... but track specific files / folders: 

!.gitignore
!/README.md
!/LICENSE

# DDEV config
!/.ddev
/.ddev/*
!/.ddev/config.yaml
!/.ddev/providers
/.ddev/providers/*
!/.ddev/providers/wp-production.yaml

# Child theme:
!/wp-content
/wp-content/*
!/wp-content/themes
/wp-content/themes/*
!/wp-content/themes/twentytwentyone-child
</code></pre>

				<details class="svelte-2rtgml"><summary>Why is this needed?</summary>
					<p class="svelte-2rtgml">This is needed to track the child theme via git. On synchronization (<i>ddev pull wp-production</i>) the whole website is downloaded to the local project folder - but we don&#39;t want to
						override the child theme, because maybe we changed some styles already and just want to
						test them with the newest site content. 
						The sync uses &quot;--exclude=wp-content/themes/twentytwentyone-child&quot; to avoid overriding
						local changes.
					</p></details></p>
			</div></div>

	<div class="card svelte-2rtgml"><div class="card-body"><h5 class="card-title">.ddev/providers/wp-production.yaml</h5>
			<h6 class="card-subtitle mb-2 text-muted">The actual pull script, runs via &#39;ddev pull wp-production&#39;
			</h6>
			<p class="card-text"><small>Requirement: <a href="https://github.com/drud/ddev/releases/tag/v1.18.2" target="_blank">DDEV &gt;= 1.18.2</a></small>
				<br>
				<br>
				This file is work in progress. Please copy the latest version from <br><br>
				<a href="https://github.com/mandrasch/ddev-wp-groundstation/blob/main/.ddev/providers/wp-production.yaml" target="_blank">GitHub: .ddev/providers/wp-production.yaml</a><br><br>
				(It will be added later here for copy &amp; paste).
				

				<details class="svelte-2rtgml"><summary>Why is this file needed?</summary>
					<p class="svelte-2rtgml">This is our pull script which takes care of pulling the live web site to your local DDEV
						project. See DDEV docs for more information:<a href="https://ddev.readthedocs.io/en/stable/users/providers/provider-introduction/" target="_blank">Hosting Provider Integration</a></p></details></p>
			</div></div></div></div>

	<div class="row"><div class="col-12"><h2 class="mb-3 svelte-e708f3">3. Start DDEV project &amp; pull all the files</h2>
			<p>Screencast: coming soon</p>

			<ol class="list-group list-group-numbered">

				<li class="list-group-item">Download the current state of your child theme into <i>wp-content/themes/twentytwentyone-child</i>. If you want to download it from WP dashboard, you can use the
					<a href="https://wordpress.org/plugins/download-plugins-dashboard/" target="_blank">Download Plugins and Themes from Dashboard plugin</a>.<br><small>(If you already manage your child theme via git or you don&#39;t have a child theme
						currently, you can skip this step.)</small></li>
				<li class="list-group-item">Run &quot;ddev start&quot;</li>
				<li class="list-group-item">Run &quot;ddev auth ssh&quot;</li>
				<li class="list-group-item">Run &quot;ddev pull wp-production&quot; to pull your live site to the local project
				</li>
				<li class="list-group-item">Run &quot;ddev launch&quot; to open your local site in the browser</li></ol>
			<p class="mt-3">Optional: Setup your child theme via WPPusher (or other methods) on your live site, see
				&quot;Step 7&quot; <a href="https://github.com/mandrasch/ddev-wp-groundstation">here</a>.
			</p></div></div>
</div></main>

<footer class="text-center text-secondary"><hr>
	Made with SvelteKit, check out at  <a href="https://github.com/mandrasch/ddev-pull-wp-generator" target="_blank">GitHub</a>
	//
	<a href="https://matthias-andrasch.eu/blog/impressum-datenschutz/" target="_blank">Imprint &amp; Terms</a> // Stop the climate emergency!
</footer>

</div>
	</body>
</html>
